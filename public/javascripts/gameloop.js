// Generated by CoffeeScript 1.3.3
var GameLoop,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

GameLoop = (function() {

  function GameLoop(loopFunction) {
    this.loopFunction = loopFunction;
    this.run = __bind(this.run, this);

    this.lastRunTime = this.time();
  }

  GameLoop.prototype.run = function() {
    var delta, time;
    time = this.time();
    delta = time - this.lastRunTime;
    this.lastRunTime = time;
    this.loopFunction(delta / 1000.0);
    window.requestAnimationFrame = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback, element) {
      return window.setTimeout(callback, 0);
    };
    return requestAnimationFrame(this.run, document.body);
  };

  GameLoop.prototype.time = function() {
    return (new Date).getTime();
  };

  return GameLoop;

})();
