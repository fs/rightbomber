// Generated by CoffeeScript 1.3.3
/*
  
  Directions are measured in floats
  Directions are clockwise
  1 direction unit  == 90 degrees
  2 direction units == PI radian

     3|
  ____|___0
  2   |
      |1
*/

var Direction;

Direction = (function() {

  function Direction(angle) {
    this.angle = angle != null ? angle : 0;
  }

  Direction.prototype.save = function() {
    this.savedAngle = this.angle;
    return this;
  };

  Direction.prototype.restore = function() {
    this.angle = this.savedAngle;
    return this;
  };

  Direction.prototype.dx = function(distance) {
    return distance * Math.cos(this.angle * Math.PI / 2);
  };

  Direction.prototype.dy = function(distance) {
    return distance * Math.sin(this.angle * Math.PI / 2);
  };

  Direction.prototype.right = function() {
    return this.angle = 0;
  };

  Direction.prototype.down = function() {
    return this.angle = 1;
  };

  Direction.prototype.left = function() {
    return this.angle = 2;
  };

  Direction.prototype.up = function() {
    return this.angle = 3;
  };

  Direction.prototype.random = function(fixed) {
    this.angle = Math.random() * 4 % 4;
    if (fixed) {
      return this.angle = Math.floor(this.angle);
    }
  };

  Direction.prototype.rotateLeft = function() {
    return this.angle = (this.angle + 3) % 4;
  };

  Direction.prototype.rotateRight = function() {
    return this.angle = (this.angle + 1) % 4;
  };

  return Direction;

})();
